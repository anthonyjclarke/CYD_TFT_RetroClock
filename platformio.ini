; PlatformIO Configuration for ESP32 CYD TFT Matrix Clock
; Board: ESP32-2432S028R (Cheap Yellow Display)
;
; Build and upload:
;   pio run -t upload
;
; Monitor serial output:
;   pio device monitor

[env:esp32-cyd]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200

; Upload settings
upload_speed = 115200
; upload_port = /dev/cu.usbserial-330  ; Commented out - use --upload-port to specify USB or IP

; OTA (Over-The-Air) upload settings
; To upload via OTA, use: pio run -t upload --upload-port <IP_ADDRESS>
; Example: pio run -t upload --upload-port 192.168.1.123
; For USB upload, use: pio run -t upload --upload-port /dev/cu.usbserial-330
upload_protocol = espota
upload_flags =
    --port=3232
    --auth=CYD_OTA_2024

; Build flags for TFT_eSPI library
build_flags = 
    -DUSER_SETUP_LOADED=1
    ; CYD Display pins (HSPI)
    -DTFT_MOSI=13
    -DTFT_MISO=12
    -DTFT_SCLK=14
    -DTFT_CS=15
    -DTFT_DC=2
    -DTFT_RST=-1
    -DTFT_BL=21
    ; Display driver
    -DILI9341_2_DRIVER=1
    ; Display dimensions
    -DTFT_WIDTH=240
    -DTFT_HEIGHT=320
    ; SPI settings
    -DSPI_FREQUENCY=40000000
    -DSPI_READ_FREQUENCY=20000000
    -DSPI_TOUCH_FREQUENCY=2500000
    ; Fonts
    -DLOAD_GLCD=1
    -DLOAD_FONT2=1
    -DLOAD_FONT4=1
    -DLOAD_FONT6=1
    -DLOAD_FONT7=1
    -DLOAD_FONT8=1
    -DLOAD_GFXFF=1
    ; Suppress compilation warnings
    -Wno-all

; Library dependencies
lib_deps =
    bodmer/TFT_eSPI@^2.5.43
    https://github.com/tzapu/WiFiManager.git
    adafruit/Adafruit BME280 Library@^2.2.4
    adafruit/Adafruit SHT31 Library@^2.2.2
    adafruit/Adafruit HTU21DF Library@^1.0.5
    adafruit/Adafruit Unified Sensor@^1.1.14
    ArduinoOTA

; Optional: Use a local User_Setup.h instead of build flags
; Uncomment the line below and comment out the build_flags above if you prefer
; board_build.filesystem = littlefs
